\documentclass[a4paper,11pt]{letter}

\usepackage{latexsym}
\usepackage[empty]{fullpage}
\usepackage{titlesec}
\usepackage[usenames,dvipsnames]{color}
\usepackage{verbatim}
\usepackage{enumitem}
\usepackage[hidelinks]{hyperref}
\usepackage{fancyhdr}
\usepackage{tabularx}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage{changepage}
\input{glyphtounicode}


%----------FONT OPTIONS----------
% sans-serif
% \usepackage[sfdefault]{FiraSans}
% \usepackage[sfdefault]{roboto}
\usepackage[sfdefault]{noto-sans}
% \usepackage[default]{sourcesanspro}

% serif
% \usepackage{CormorantGaramond}
% \usepackage{charter}


\pagestyle{fancy}
\fancyhf{} % clear all header and footer fields
\fancyfoot{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

% Adjust margins
\addtolength{\oddsidemargin}{-0.5in}
\addtolength{\evensidemargin}{-0.5in}
\addtolength{\textwidth}{1in}
\addtolength{\topmargin}{-.5in}
\addtolength{\textheight}{1.0in}

\urlstyle{same}

\raggedbottom
\raggedright
\setlength{\tabcolsep}{0in}

% Sections formatting
\titleformat{\section}{
  \vspace{-4pt}\raggedright\large
}{}{0em}{}[\color{black}\titlerule \vspace{-5pt}]

% Ensure that generate pdf is machine readable/ATS parsable
\pdfgentounicode=1

\begin{document}

\begin{center}
  \textbf{\Huge\scshape {{profile.name}} } \\ \vspace{1pt}
  {{#each profile.phoneNumbers}} \small{\underline{ {{this}} }}\, {{/each}}
  {{#each profile.emails}} \small{\underline{ {{this}} }}\, {{/each}}
  {{#each profile.links}} \small{\href{ {{this.url}} }{\underline{ {{this.type}} }}}\, {{/each}}
\end{center}

\rule{\textwidth}{0.4pt}
\vspace{10pt}

\newlength{\lettercontentmargin}
\setlength{\lettercontentmargin}{0.4in}
\addtolength{\leftmargin}{\lettercontentmargin}
\addtolength{\rightmargin}{\lettercontentmargin}
\begin{adjustwidth}{\lettercontentmargin}{\lettercontentmargin}

\begin{flushright}
  {{#hasText coverLetter.senderLocation}}
    {{coverLetter.senderLocation}}\\
  {{/hasText}}
  {{#hasText coverLetter.sentAt}}
    \vspace{12pt}
    {{coverLetter.sentAt}}\\
  {{/hasText}}
\end{flushright}

\vspace{20pt}

{{#hasText coverLetter.companyRecipient}}
  {{coverLetter.companyRecipient}}\\
{{/hasText}}

{{#hasText coverLetter.company}}
  {{coverLetter.company}}\\
{{/hasText}}

{{#hasText coverLetter.companyLocation}}
  {{coverLetter.companyLocation}}\\
{{/hasText}}

\vspace{20pt}
{{#hasText coverLetter.position}}
  \textbf{Re: {{coverLetter.position}} }\\
{{/hasText}}

\vspace{20pt}
{{#hasText coverLetter.salutation}}
  {{coverLetter.salutation}}
{{/hasText}}

\vspace{12pt}
{{{coverLetter.body}}}

\vspace{20pt}
{{#hasText coverLetter.closing}}
  {{coverLetter.closing}}\\
{{/hasText}}

\vspace{12pt}
{{profile.name}}\\

\end{adjustwidth}
\end{document}